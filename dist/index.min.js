"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tagsToReplace={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","—":"&mdash;"},replaceTag=function(e){return tagsToReplace[e]||e},htmlSpecialChars=function(e){return e.replace(/[&<>"\u2014]/g,replaceTag)},parseListItems=function(e){return e.replace(/(?:(?:^|\n)[*-].*)+/g,function(e){var r=e.match(/(^|\n)-/)?"ol":"ul";return e=e.replace(/(^|\n)[*-][ ]?/g,"$1"),"<"+r+"><li>"+(e=parseListItems(e)).replace(/^\n/,"").split(/\n/).join("</li><li>")+"</li></"+r+">"})},parseList=function(e){return e.replace(/(?:^|\n)[\s]*(?:(\*(?!\*).*?)|(-(?!-).*?))(\n\n|$)/gs,function(e){return parseListItems(e.trim().replace(/(?:^|\n)[^*-]+/g,function(e){return"<br/>"+e.trim().replace(/\n/g,"<br/>")}))})};exports.worfdown=function(e){var n=[];return parseList(htmlSpecialChars(e.replace(/\r\n/g,"\n").replace(/\n{2,}/g,"\n\n").replace(/```([^*]+)```/g,function(e,r){return t="<code>"+r+"</code>","\0"+(n.push("<code>"+t+"</code>")-1)+"\0";var t}).replace(/ -- /gm," — ")).replace(/((?:(?:^|\n)[ \t].*)+)/g,function(e,r){return"<pre>"+parseList(r)+"</pre>"})).replace(/^(#+)(.*)/g,function(e,r,t){return"<h"+r.length+">"+t.trim()+"</h"+r.length+">"}).replace(/^>{1,4}\s+(.+)$/gm,"<blockquote>$1</blockquote>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/''([^*]+)''/g,"<em>$1</em>").replace(/--([^*]+)--/g,"<strike>$1</strike>").replace(/__([^*]+)__/g,"<u>$1</u>").replace(/,,([^*]+),,/g,"<sub>$1</sub>").replace(/\^\^([^*]+)\^\^/g,"<sup>$1</sup>").replace(/\0\d+\0/,function(e,r){return n[+r]})};
